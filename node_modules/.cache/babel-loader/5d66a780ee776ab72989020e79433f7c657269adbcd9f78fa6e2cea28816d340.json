{"ast":null,"code":"import { database } from './firebase';\nimport { ref, set, get, onValue } from 'firebase/database';\n\n// Crear sala\nconst createRoom = async () => {\n  const code = Math.random().toString(36).substr(2, 6).toUpperCase();\n  await set(ref(database, `rooms/${code}`), {\n    code,\n    host: playerName,\n    players: [playerName],\n    started: false\n  });\n  setCurrentRoom(code);\n  // Escuchar cambios en tiempo real\n  onValue(ref(database, `rooms/${code}`), snapshot => {\n    const data = snapshot.val();\n    setPlayers(data.players);\n  });\n};\n\n// Unirse a sala\nconst joinRoom = async () => {\n  const roomRef = ref(database, `rooms/${roomCode}`);\n  const snapshot = await get(roomRef);\n  if (snapshot.exists()) {\n    const roomData = snapshot.val();\n    roomData.players.push(playerName);\n    await set(roomRef, roomData);\n    setCurrentRoom(roomCode);\n  }\n};","map":{"version":3,"names":["database","ref","set","get","onValue","createRoom","code","Math","random","toString","substr","toUpperCase","host","playerName","players","started","setCurrentRoom","snapshot","data","val","setPlayers","joinRoom","roomRef","roomCode","exists","roomData","push"],"sources":["C:/Users/Usuario/Desktop/trivia-online/src/App.js"],"sourcesContent":["import { database } from './firebase';\r\nimport { ref, set, get, onValue } from 'firebase/database';\r\n\r\n// Crear sala\r\nconst createRoom = async () => {\r\n  const code = Math.random().toString(36).substr(2, 6).toUpperCase();\r\n  await set(ref(database, `rooms/${code}`), {\r\n    code,\r\n    host: playerName,\r\n    players: [playerName],\r\n    started: false\r\n  });\r\n  setCurrentRoom(code);\r\n  // Escuchar cambios en tiempo real\r\n  onValue(ref(database, `rooms/${code}`), (snapshot) => {\r\n    const data = snapshot.val();\r\n    setPlayers(data.players);\r\n  });\r\n};\r\n\r\n// Unirse a sala\r\nconst joinRoom = async () => {\r\n  const roomRef = ref(database, `rooms/${roomCode}`);\r\n  const snapshot = await get(roomRef);\r\n  if (snapshot.exists()) {\r\n    const roomData = snapshot.val();\r\n    roomData.players.push(playerName);\r\n    await set(roomRef, roomData);\r\n    setCurrentRoom(roomCode);\r\n  }\r\n};"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AACrC,SAASC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,OAAO,QAAQ,mBAAmB;;AAE1D;AACA,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;EAC7B,MAAMC,IAAI,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAClE,MAAMT,GAAG,CAACD,GAAG,CAACD,QAAQ,EAAE,SAASM,IAAI,EAAE,CAAC,EAAE;IACxCA,IAAI;IACJM,IAAI,EAAEC,UAAU;IAChBC,OAAO,EAAE,CAACD,UAAU,CAAC;IACrBE,OAAO,EAAE;EACX,CAAC,CAAC;EACFC,cAAc,CAACV,IAAI,CAAC;EACpB;EACAF,OAAO,CAACH,GAAG,CAACD,QAAQ,EAAE,SAASM,IAAI,EAAE,CAAC,EAAGW,QAAQ,IAAK;IACpD,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;IAC3BC,UAAU,CAACF,IAAI,CAACJ,OAAO,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAC3B,MAAMC,OAAO,GAAGrB,GAAG,CAACD,QAAQ,EAAE,SAASuB,QAAQ,EAAE,CAAC;EAClD,MAAMN,QAAQ,GAAG,MAAMd,GAAG,CAACmB,OAAO,CAAC;EACnC,IAAIL,QAAQ,CAACO,MAAM,CAAC,CAAC,EAAE;IACrB,MAAMC,QAAQ,GAAGR,QAAQ,CAACE,GAAG,CAAC,CAAC;IAC/BM,QAAQ,CAACX,OAAO,CAACY,IAAI,CAACb,UAAU,CAAC;IACjC,MAAMX,GAAG,CAACoB,OAAO,EAAEG,QAAQ,CAAC;IAC5BT,cAAc,CAACO,QAAQ,CAAC;EAC1B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}