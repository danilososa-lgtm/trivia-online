{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\trivia-online\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Trophy, Users, Clock, Play, LogIn, Zap, Crown, Target, Sparkles, HourglassIcon } from 'lucide-react';\nimport { database } from './firebase';\nimport { ref, set, get, onValue, update, remove } from 'firebase/database';\nimport { CATEGORIES, QUESTIONS } from './constants';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [screen, setScreen] = useState('login');\n  const [playerName, setPlayerName] = useState('');\n  const [roomCode, setRoomCode] = useState('');\n  const [currentRoom, setCurrentRoom] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [currentQuestion, setCurrentQuestion] = useState(null);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(15);\n  const [scores, setScores] = useState({});\n  const [showResult, setShowResult] = useState(false);\n  const [questionNumber, setQuestionNumber] = useState(0);\n  const [gameFinished, setGameFinished] = useState(false);\n  const [animate, setAnimate] = useState(false);\n  const [streakBonus, setStreakBonus] = useState(0);\n  const [roomListener, setRoomListener] = useState(null);\n  const [currentTurn, setCurrentTurn] = useState(0);\n  const [playerAnswered, setPlayerAnswered] = useState(false);\n  const [waitingForOthers, setWaitingForOthers] = useState(false);\n  useEffect(() => {\n    if (gameStarted && currentQuestion && timeLeft > 0 && !showResult && isMyTurn()) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else if (timeLeft === 0 && !showResult && isMyTurn()) {\n      handleAnswerSubmit();\n    }\n  }, [timeLeft, gameStarted, currentQuestion, showResult, currentTurn]);\n  useEffect(() => {\n    return () => {\n      if (roomListener) {\n        roomListener();\n      }\n    };\n  }, [roomListener]);\n  const isMyTurn = () => {\n    if (!players || players.length === 0) return false;\n    return players[currentTurn] === playerName;\n  };\n  const createRoom = async () => {\n    if (!playerName.trim()) return;\n    try {\n      const code = Math.random().toString(36).substr(2, 6).toUpperCase();\n      const roomRef = ref(database, `rooms/${code}`);\n      await set(roomRef, {\n        code,\n        host: playerName,\n        players: [playerName],\n        started: false,\n        questionIndex: 0,\n        currentTurn: 0,\n        scores: {\n          [playerName]: 0\n        },\n        currentQuestion: null\n      });\n      setCurrentRoom(code);\n      setPlayers([playerName]);\n      setScores({\n        [playerName]: 0\n      });\n      setScreen('lobby');\n      const unsubscribe = onValue(roomRef, snapshot => {\n        const data = snapshot.val();\n        if (data) {\n          setPlayers(data.players || []);\n          setScores(data.scores || {});\n          setCurrentTurn(data.currentTurn || 0);\n          if (data.started && !gameStarted) {\n            setGameStarted(true);\n            setQuestionNumber(data.questionIndex || 0);\n          }\n          if (data.currentQuestion) {\n            setCurrentQuestion(data.currentQuestion);\n            setShowResult(false);\n            setSelectedAnswer(null);\n            setTimeLeft(15);\n            setPlayerAnswered(false);\n            setWaitingForOthers(false);\n          }\n          if (data.gameFinished) {\n            setGameFinished(true);\n          }\n        }\n      });\n      setRoomListener(() => unsubscribe);\n    } catch (error) {\n      alert('Error al crear sala: ' + error.message);\n    }\n  };\n  const joinRoom = async () => {\n    if (!playerName.trim() || !roomCode.trim()) return;\n    try {\n      const code = roomCode.toUpperCase();\n      const roomRef = ref(database, `rooms/${code}`);\n      const snapshot = await get(roomRef);\n      if (!snapshot.exists()) {\n        alert('Sala no encontrada');\n        return;\n      }\n      const roomData = snapshot.val();\n      if (roomData.started) {\n        alert('El juego ya comenzÃ³');\n        return;\n      }\n      if (!roomData.players.includes(playerName)) {\n        const updatedPlayers = [...roomData.players, playerName];\n        const updatedScores = {\n          ...roomData.scores,\n          [playerName]: 0\n        };\n        await update(roomRef, {\n          players: updatedPlayers,\n          scores: updatedScores\n        });\n      }\n      setCurrentRoom(code);\n      setPlayers(roomData.players);\n      setScreen('lobby');\n      const unsubscribe = onValue(roomRef, snapshot => {\n        const data = snapshot.val();\n        if (data) {\n          setPlayers(data.players || []);\n          setScores(data.scores || {});\n          setCurrentTurn(data.currentTurn || 0);\n          if (data.started && !gameStarted) {\n            setGameStarted(true);\n            setQuestionNumber(data.questionIndex || 0);\n          }\n          if (data.currentQuestion) {\n            setCurrentQuestion(data.currentQuestion);\n            setShowResult(false);\n            setSelectedAnswer(null);\n            setTimeLeft(15);\n            setPlayerAnswered(false);\n            setWaitingForOthers(false);\n          }\n          if (data.gameFinished) {\n            setGameFinished(true);\n          }\n        }\n      });\n      setRoomListener(() => unsubscribe);\n    } catch (error) {\n      alert('Error al unirse: ' + error.message);\n    }\n  };\n  const startGame = async () => {\n    try {\n      const roomRef = ref(database, `rooms/${currentRoom}`);\n      const categories = Object.keys(QUESTIONS);\n      const category = categories[0 % categories.length];\n      const questions = QUESTIONS[category];\n      const question = questions[Math.floor(Math.random() * questions.length)];\n      const newQuestion = {\n        ...question,\n        category\n      };\n      await update(roomRef, {\n        started: true,\n        questionIndex: 0,\n        currentTurn: 0,\n        currentQuestion: newQuestion,\n        gameFinished: false\n      });\n      setGameStarted(true);\n      setQuestionNumber(0);\n      setCurrentTurn(0);\n      setAnimate(true);\n      setTimeout(() => setAnimate(false), 500);\n    } catch (error) {\n      alert('Error al iniciar juego');\n    }\n  };\n  const handleAnswerSubmit = async () => {\n    if (showResult || !isMyTurn() || playerAnswered) return;\n    setShowResult(true);\n    setPlayerAnswered(true);\n    setWaitingForOthers(true);\n    try {\n      const roomRef = ref(database, `rooms/${currentRoom}`);\n      const snapshot = await get(roomRef);\n      const roomData = snapshot.val();\n      let newScores = {\n        ...roomData.scores\n      };\n      if (selectedAnswer === currentQuestion.c) {\n        const basePoints = Math.max(100, 1000 - (15 - timeLeft) * 60);\n        const bonus = streakBonus * 100;\n        const points = basePoints + bonus;\n        setStreakBonus(streakBonus + 1);\n        newScores[playerName] = (newScores[playerName] || 0) + points;\n      } else {\n        setStreakBonus(0);\n      }\n      const nextTurn = (currentTurn + 1) % players.length;\n      if (nextTurn === 0) {\n        const nextQ = questionNumber + 1;\n        if (nextQ >= 6) {\n          await update(roomRef, {\n            scores: newScores,\n            gameFinished: true\n          });\n          setGameFinished(true);\n        } else {\n          const categories = Object.keys(QUESTIONS);\n          const category = categories[nextQ % categories.length];\n          const questions = QUESTIONS[category];\n          const question = questions[Math.floor(Math.random() * questions.length)];\n          const newQuestion = {\n            ...question,\n            category\n          };\n          await update(roomRef, {\n            scores: newScores,\n            currentTurn: nextTurn,\n            questionIndex: nextQ,\n            currentQuestion: newQuestion\n          });\n          setQuestionNumber(nextQ);\n        }\n      } else {\n        await update(roomRef, {\n          scores: newScores,\n          currentTurn: nextTurn\n        });\n      }\n      setScores(newScores);\n    } catch (error) {\n      console.error('Error al actualizar:', error);\n    }\n  };\n  const resetGame = async () => {\n    try {\n      if (currentRoom && roomListener) {\n        roomListener();\n        await remove(ref(database, `rooms/${currentRoom}`));\n      }\n    } catch (error) {\n      console.error('Error al limpiar sala:', error);\n    }\n    setScreen('login');\n    setPlayerName('');\n    setRoomCode('');\n    setCurrentRoom(null);\n    setPlayers([]);\n    setGameStarted(false);\n    setCurrentQuestion(null);\n    setSelectedAnswer(null);\n    setTimeLeft(15);\n    setScores({});\n    setShowResult(false);\n    setQuestionNumber(0);\n    setGameFinished(false);\n    setStreakBonus(0);\n    setRoomListener(null);\n    setCurrentTurn(0);\n    setPlayerAnswered(false);\n    setWaitingForOthers(false);\n  };\n  if (screen === 'login') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screen-container gradient-purple\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background-blobs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blob blob-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blob blob-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blob blob-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8 bounce\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            children: [/*#__PURE__*/_jsxDEV(Trophy, {\n              className: \"icon-large text-yellow animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Sparkles, {\n              className: \"icon-small text-yellow spin-slow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"title-mega gradient-text\",\n            children: \"TRIVIA ONLINE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtitle\",\n            children: \"\\xA1Juego por turnos!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Tu nombre\",\n            value: playerName,\n            onChange: e => setPlayerName(e.target.value),\n            className: \"input-field\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: createRoom,\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(Play, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 70\n            }, this), \"CREAR SALA\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divider\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"O \\xDANETE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"C\\xD3DIGO DE SALA\",\n            value: roomCode,\n            onChange: e => setRoomCode(e.target.value.toUpperCase()),\n            className: \"input-field text-center\",\n            maxLength: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: joinRoom,\n            className: \"btn btn-secondary\",\n            children: [/*#__PURE__*/_jsxDEV(LogIn, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 70\n            }, this), \"UNIRSE\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this);\n  }\n  if (screen === 'lobby') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screen-container gradient-purple\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background-stars\",\n        children: [...Array(20)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star\",\n          style: {\n            width: Math.random() * 100 + 50,\n            height: Math.random() * 100 + 50,\n            left: `${Math.random() * 100}%`,\n            top: `${Math.random() * 100}%`,\n            animationDelay: `${Math.random() * 2}s`\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 74\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"icon-medium text-cyan mx-auto mb-3 bounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title-large\",\n            children: \"SALA DE ESPERA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"room-code\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"C\\xD3DIGO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"code-display\",\n              children: currentRoom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 73\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(Target, {\n              className: \"w-6 h-6 text-pink\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"JUGADORES (\", players.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 85\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"players-list\",\n            children: players.map((player, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"player-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-avatar\",\n                children: player.charAt(0).toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 109\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"player-name\",\n                children: player\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 178\n              }, this), player === players[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"host-badge\",\n                children: [/*#__PURE__*/_jsxDEV(Crown, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 278\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"HOST\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 307\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 250\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 72\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-4\",\n          style: {\n            background: 'rgba(255,255,255,0.1)',\n            padding: '1rem',\n            borderRadius: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-bold text-lg\",\n            children: \"\\uD83C\\uDFAE Modo: Por Turnos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white/80 text-sm\",\n            children: \"Cada jugador responde uno por uno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), players[0] === playerName && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startGame,\n          className: \"btn btn-success mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 103\n          }, this), \"\\xA1COMENZAR!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetGame,\n          className: \"btn btn-outline\",\n          children: \"SALIR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameFinished) {\n    const sortedPlayers = Object.entries(scores).sort((a, b) => b[1] - a[1]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screen-container gradient-purple\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confetti-container\",\n        children: [...Array(50)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confetti\",\n          style: {\n            left: `${Math.random() * 100}%`,\n            top: `${Math.random() * 100}%`,\n            animationDelay: `${Math.random() * 2}s`\n          },\n          children: ['ðŸ†', 'â­', 'ðŸŽ‰', 'âœ¨', 'ðŸŽŠ'][Math.floor(Math.random() * 5)]\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 76\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(Trophy, {\n            className: \"icon-mega text-yellow mb-4 bounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title-mega gradient-text\",\n            children: \"\\xA1FINAL!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 101\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtitle\",\n            children: \"Resultados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 154\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-list\",\n          children: sortedPlayers.map(([player, score], i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `result-card rank-${i + 1}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rank-number\",\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 143\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"result-name\",\n                children: player\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 214\n              }, this), i === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"champion-badge\",\n                children: \"\\uD83D\\uDC51 CAMPE\\xD3N\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 265\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 185\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-score\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"score-value\",\n                children: score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 346\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"score-label\",\n                children: \"puntos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 384\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 316\n            }, this)]\n          }, player, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 85\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetGame,\n          className: \"btn btn-primary\",\n          children: \"JUGAR DE NUEVO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameStarted && currentQuestion) {\n    const categoryData = CATEGORIES[currentQuestion.category];\n    const progress = (15 - timeLeft) / 15 * 100;\n    const myTurn = isMyTurn();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `screen-container gradient-${currentQuestion.category}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-icons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-icon left\",\n          children: categoryData.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-icon right\",\n          children: categoryData.emoji\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 102\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card glass-card question-card ${animate ? 'card-animate' : ''}`,\n        children: [!myTurn && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(255,255,255,0.2)',\n            backdropFilter: 'blur(10px)',\n            padding: '1rem',\n            borderRadius: '1rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            border: '2px solid rgba(255,255,255,0.3)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(HourglassIcon, {\n            className: \"w-8 h-8 mx-auto mb-2 text-white animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-bold text-xl\",\n            children: [\"Turno de: \", players[currentTurn]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white/80\",\n            children: \"Espera tu turno...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), myTurn && !playerAnswered && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(34,197,94,0.2)',\n            backdropFilter: 'blur(10px)',\n            padding: '1rem',\n            borderRadius: '1rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            border: '2px solid rgba(34,197,94,0.5)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-bold text-xl\",\n            children: \"\\uD83C\\uDFAF \\xA1ES TU TURNO!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), waitingForOthers && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(59,130,246,0.2)',\n            backdropFilter: 'blur(10px)',\n            padding: '1rem',\n            borderRadius: '1rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            border: '2px solid rgba(59,130,246,0.5)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-bold\",\n            children: \"Esperando siguiente turno...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-badge\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-icon-box\",\n              children: categoryData.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"category-label\",\n                children: \"CATEGOR\\xCDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 110\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"category-name\",\n                children: categoryData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 153\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 105\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timer-section\",\n            children: [streakBonus > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-badge\",\n              children: [\"\\uD83D\\uDD25 x\", streakBonus]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 65\n            }, this), myTurn && !playerAnswered && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timer-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timer-display\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 209\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [timeLeft, \"s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 238\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 178\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-fill\",\n                  style: {\n                    width: `${100 - progress}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 298\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 268\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 151\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-dots\",\n          children: [...Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `dot ${i < questionNumber ? 'done' : i === questionNumber ? 'active' : ''}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 72\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question-counter\",\n          children: [\"Pregunta \", questionNumber + 1, \" de 6\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-box\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"question-text\",\n            children: currentQuestion.q\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"answers-grid\",\n          children: currentQuestion.a.map((answer, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => myTurn && !showResult && !playerAnswered && setSelectedAnswer(i),\n            disabled: !myTurn || showResult || playerAnswered,\n            className: `answer-btn ${!myTurn || playerAnswered ? 'disabled' : ''} ${showResult ? i === currentQuestion.c ? 'correct' : selectedAnswer === i ? 'incorrect' : 'disabled' : selectedAnswer === i ? 'selected' : ''}`,\n            children: answer\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 80\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), selectedAnswer !== null && !showResult && myTurn && !playerAnswered && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAnswerSubmit,\n          className: \"btn btn-success\",\n          children: \"Confirmar Respuesta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 84\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"score-label\",\n            children: \"Tu puntuaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"score-value\",\n            children: scores[playerName] || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 86\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n_s(App, \"p+0vyhms5nMO20rm4qqM4YVsb3Y=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Trophy","Users","Clock","Play","LogIn","Zap","Crown","Target","Sparkles","HourglassIcon","database","ref","set","get","onValue","update","remove","CATEGORIES","QUESTIONS","jsxDEV","_jsxDEV","App","_s","screen","setScreen","playerName","setPlayerName","roomCode","setRoomCode","currentRoom","setCurrentRoom","players","setPlayers","gameStarted","setGameStarted","currentQuestion","setCurrentQuestion","selectedAnswer","setSelectedAnswer","timeLeft","setTimeLeft","scores","setScores","showResult","setShowResult","questionNumber","setQuestionNumber","gameFinished","setGameFinished","animate","setAnimate","streakBonus","setStreakBonus","roomListener","setRoomListener","currentTurn","setCurrentTurn","playerAnswered","setPlayerAnswered","waitingForOthers","setWaitingForOthers","isMyTurn","timer","setTimeout","clearTimeout","handleAnswerSubmit","length","createRoom","trim","code","Math","random","toString","substr","toUpperCase","roomRef","host","started","questionIndex","unsubscribe","snapshot","data","val","error","alert","message","joinRoom","exists","roomData","includes","updatedPlayers","updatedScores","startGame","categories","Object","keys","category","questions","question","floor","newQuestion","newScores","c","basePoints","max","bonus","points","nextTurn","nextQ","console","resetGame","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","maxLength","Array","map","_","i","style","width","height","left","top","animationDelay","player","charAt","background","padding","borderRadius","sortedPlayers","entries","sort","a","b","score","categoryData","progress","myTurn","icon","emoji","backdropFilter","marginBottom","textAlign","border","name","q","answer","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/trivia-online/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Trophy, Users, Clock, Play, LogIn, Zap, Crown, Target, Sparkles, HourglassIcon } from 'lucide-react';\r\nimport { database } from './firebase';\r\nimport { ref, set, get, onValue, update, remove } from 'firebase/database';\r\nimport { CATEGORIES, QUESTIONS } from './constants';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [screen, setScreen] = useState('login');\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [roomCode, setRoomCode] = useState('');\r\n  const [currentRoom, setCurrentRoom] = useState(null);\r\n  const [players, setPlayers] = useState([]);\r\n  const [gameStarted, setGameStarted] = useState(false);\r\n  const [currentQuestion, setCurrentQuestion] = useState(null);\r\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(15);\r\n  const [scores, setScores] = useState({});\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [questionNumber, setQuestionNumber] = useState(0);\r\n  const [gameFinished, setGameFinished] = useState(false);\r\n  const [animate, setAnimate] = useState(false);\r\n  const [streakBonus, setStreakBonus] = useState(0);\r\n  const [roomListener, setRoomListener] = useState(null);\r\n  const [currentTurn, setCurrentTurn] = useState(0);\r\n  const [playerAnswered, setPlayerAnswered] = useState(false);\r\n  const [waitingForOthers, setWaitingForOthers] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (gameStarted && currentQuestion && timeLeft > 0 && !showResult && isMyTurn()) {\r\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    } else if (timeLeft === 0 && !showResult && isMyTurn()) {\r\n      handleAnswerSubmit();\r\n    }\r\n  }, [timeLeft, gameStarted, currentQuestion, showResult, currentTurn]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (roomListener) {\r\n        roomListener();\r\n      }\r\n    };\r\n  }, [roomListener]);\r\n\r\n  const isMyTurn = () => {\r\n    if (!players || players.length === 0) return false;\r\n    return players[currentTurn] === playerName;\r\n  };\r\n\r\n  const createRoom = async () => {\r\n    if (!playerName.trim()) return;\r\n    try {\r\n      const code = Math.random().toString(36).substr(2, 6).toUpperCase();\r\n      const roomRef = ref(database, `rooms/${code}`);\r\n      await set(roomRef, {\r\n        code,\r\n        host: playerName,\r\n        players: [playerName],\r\n        started: false,\r\n        questionIndex: 0,\r\n        currentTurn: 0,\r\n        scores: { [playerName]: 0 },\r\n        currentQuestion: null\r\n      });\r\n      setCurrentRoom(code);\r\n      setPlayers([playerName]);\r\n      setScores({ [playerName]: 0 });\r\n      setScreen('lobby');\r\n      const unsubscribe = onValue(roomRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          setPlayers(data.players || []);\r\n          setScores(data.scores || {});\r\n          setCurrentTurn(data.currentTurn || 0);\r\n          \r\n          if (data.started && !gameStarted) {\r\n            setGameStarted(true);\r\n            setQuestionNumber(data.questionIndex || 0);\r\n          }\r\n          \r\n          if (data.currentQuestion) {\r\n            setCurrentQuestion(data.currentQuestion);\r\n            setShowResult(false);\r\n            setSelectedAnswer(null);\r\n            setTimeLeft(15);\r\n            setPlayerAnswered(false);\r\n            setWaitingForOthers(false);\r\n          }\r\n          \r\n          if (data.gameFinished) {\r\n            setGameFinished(true);\r\n          }\r\n        }\r\n      });\r\n      setRoomListener(() => unsubscribe);\r\n    } catch (error) {\r\n      alert('Error al crear sala: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const joinRoom = async () => {\r\n    if (!playerName.trim() || !roomCode.trim()) return;\r\n    try {\r\n      const code = roomCode.toUpperCase();\r\n      const roomRef = ref(database, `rooms/${code}`);\r\n      const snapshot = await get(roomRef);\r\n      if (!snapshot.exists()) {\r\n        alert('Sala no encontrada');\r\n        return;\r\n      }\r\n      const roomData = snapshot.val();\r\n      if (roomData.started) {\r\n        alert('El juego ya comenzÃ³');\r\n        return;\r\n      }\r\n      if (!roomData.players.includes(playerName)) {\r\n        const updatedPlayers = [...roomData.players, playerName];\r\n        const updatedScores = { ...roomData.scores, [playerName]: 0 };\r\n        await update(roomRef, {\r\n          players: updatedPlayers,\r\n          scores: updatedScores\r\n        });\r\n      }\r\n      setCurrentRoom(code);\r\n      setPlayers(roomData.players);\r\n      setScreen('lobby');\r\n      const unsubscribe = onValue(roomRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          setPlayers(data.players || []);\r\n          setScores(data.scores || {});\r\n          setCurrentTurn(data.currentTurn || 0);\r\n          \r\n          if (data.started && !gameStarted) {\r\n            setGameStarted(true);\r\n            setQuestionNumber(data.questionIndex || 0);\r\n          }\r\n          \r\n          if (data.currentQuestion) {\r\n            setCurrentQuestion(data.currentQuestion);\r\n            setShowResult(false);\r\n            setSelectedAnswer(null);\r\n            setTimeLeft(15);\r\n            setPlayerAnswered(false);\r\n            setWaitingForOthers(false);\r\n          }\r\n          \r\n          if (data.gameFinished) {\r\n            setGameFinished(true);\r\n          }\r\n        }\r\n      });\r\n      setRoomListener(() => unsubscribe);\r\n    } catch (error) {\r\n      alert('Error al unirse: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const startGame = async () => {\r\n    try {\r\n      const roomRef = ref(database, `rooms/${currentRoom}`);\r\n      const categories = Object.keys(QUESTIONS);\r\n      const category = categories[0 % categories.length];\r\n      const questions = QUESTIONS[category];\r\n      const question = questions[Math.floor(Math.random() * questions.length)];\r\n      const newQuestion = { ...question, category };\r\n      \r\n      await update(roomRef, {\r\n        started: true,\r\n        questionIndex: 0,\r\n        currentTurn: 0,\r\n        currentQuestion: newQuestion,\r\n        gameFinished: false\r\n      });\r\n      \r\n      setGameStarted(true);\r\n      setQuestionNumber(0);\r\n      setCurrentTurn(0);\r\n      setAnimate(true);\r\n      setTimeout(() => setAnimate(false), 500);\r\n    } catch (error) {\r\n      alert('Error al iniciar juego');\r\n    }\r\n  };\r\n\r\n  const handleAnswerSubmit = async () => {\r\n    if (showResult || !isMyTurn() || playerAnswered) return;\r\n    \r\n    setShowResult(true);\r\n    setPlayerAnswered(true);\r\n    setWaitingForOthers(true);\r\n    \r\n    try {\r\n      const roomRef = ref(database, `rooms/${currentRoom}`);\r\n      const snapshot = await get(roomRef);\r\n      const roomData = snapshot.val();\r\n      \r\n      let newScores = { ...roomData.scores };\r\n      \r\n      if (selectedAnswer === currentQuestion.c) {\r\n        const basePoints = Math.max(100, 1000 - (15 - timeLeft) * 60);\r\n        const bonus = streakBonus * 100;\r\n        const points = basePoints + bonus;\r\n        setStreakBonus(streakBonus + 1);\r\n        newScores[playerName] = (newScores[playerName] || 0) + points;\r\n      } else {\r\n        setStreakBonus(0);\r\n      }\r\n      \r\n      const nextTurn = (currentTurn + 1) % players.length;\r\n      \r\n      if (nextTurn === 0) {\r\n        const nextQ = questionNumber + 1;\r\n        \r\n        if (nextQ >= 6) {\r\n          await update(roomRef, {\r\n            scores: newScores,\r\n            gameFinished: true\r\n          });\r\n          setGameFinished(true);\r\n        } else {\r\n          const categories = Object.keys(QUESTIONS);\r\n          const category = categories[nextQ % categories.length];\r\n          const questions = QUESTIONS[category];\r\n          const question = questions[Math.floor(Math.random() * questions.length)];\r\n          const newQuestion = { ...question, category };\r\n          \r\n          await update(roomRef, {\r\n            scores: newScores,\r\n            currentTurn: nextTurn,\r\n            questionIndex: nextQ,\r\n            currentQuestion: newQuestion\r\n          });\r\n          \r\n          setQuestionNumber(nextQ);\r\n        }\r\n      } else {\r\n        await update(roomRef, {\r\n          scores: newScores,\r\n          currentTurn: nextTurn\r\n        });\r\n      }\r\n      \r\n      setScores(newScores);\r\n    } catch (error) {\r\n      console.error('Error al actualizar:', error);\r\n    }\r\n  };\r\n\r\n  const resetGame = async () => {\r\n    try {\r\n      if (currentRoom && roomListener) {\r\n        roomListener();\r\n        await remove(ref(database, `rooms/${currentRoom}`));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al limpiar sala:', error);\r\n    }\r\n    setScreen('login');\r\n    setPlayerName('');\r\n    setRoomCode('');\r\n    setCurrentRoom(null);\r\n    setPlayers([]);\r\n    setGameStarted(false);\r\n    setCurrentQuestion(null);\r\n    setSelectedAnswer(null);\r\n    setTimeLeft(15);\r\n    setScores({});\r\n    setShowResult(false);\r\n    setQuestionNumber(0);\r\n    setGameFinished(false);\r\n    setStreakBonus(0);\r\n    setRoomListener(null);\r\n    setCurrentTurn(0);\r\n    setPlayerAnswered(false);\r\n    setWaitingForOthers(false);\r\n  };\r\n\r\n  if (screen === 'login') {\r\n    return (\r\n      <div className=\"screen-container gradient-purple\">\r\n        <div className=\"background-blobs\">\r\n          <div className=\"blob blob-1\"></div>\r\n          <div className=\"blob blob-2\"></div>\r\n          <div className=\"blob blob-3\"></div>\r\n        </div>\r\n        <div className=\"card glass-card\">\r\n          <div className=\"text-center mb-8 bounce\">\r\n            <div className=\"icon-container\">\r\n              <Trophy className=\"icon-large text-yellow animate-pulse\" />\r\n              <Sparkles className=\"icon-small text-yellow spin-slow\" />\r\n            </div>\r\n            <h1 className=\"title-mega gradient-text\">TRIVIA ONLINE</h1>\r\n            <p className=\"subtitle\">Â¡Juego por turnos!</p>\r\n          </div>\r\n          <div className=\"form-container\">\r\n            <input type=\"text\" placeholder=\"Tu nombre\" value={playerName} onChange={(e) => setPlayerName(e.target.value)} className=\"input-field\" />\r\n            <button onClick={createRoom} className=\"btn btn-primary\"><Play className=\"w-6 h-6\" />CREAR SALA</button>\r\n            <div className=\"divider\"><span>O ÃšNETE</span></div>\r\n            <input type=\"text\" placeholder=\"CÃ“DIGO DE SALA\" value={roomCode} onChange={(e) => setRoomCode(e.target.value.toUpperCase())} className=\"input-field text-center\" maxLength={6} />\r\n            <button onClick={joinRoom} className=\"btn btn-secondary\"><LogIn className=\"w-6 h-6\" />UNIRSE</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (screen === 'lobby') {\r\n    return (\r\n      <div className=\"screen-container gradient-purple\">\r\n        <div className=\"background-stars\">{[...Array(20)].map((_, i) => (<div key={i} className=\"star\" style={{width: Math.random() * 100 + 50, height: Math.random() * 100 + 50, left: `${Math.random() * 100}%`, top: `${Math.random() * 100}%`, animationDelay: `${Math.random() * 2}s`}} />))}</div>\r\n        <div className=\"card glass-card\">\r\n          <div className=\"text-center mb-6\">\r\n            <Users className=\"icon-medium text-cyan mx-auto mb-3 bounce\" />\r\n            <h2 className=\"title-large\">SALA DE ESPERA</h2>\r\n            <div className=\"room-code\"><p className=\"text-sm\">CÃ“DIGO</p><p className=\"code-display\">{currentRoom}</p></div>\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <div className=\"section-header\"><Target className=\"w-6 h-6 text-pink\" /><h3>JUGADORES ({players.length})</h3></div>\r\n            <div className=\"players-list\">{players.map((player, i) => (<div key={i} className=\"player-card\"><div className=\"player-avatar\">{player.charAt(0).toUpperCase()}</div><span className=\"player-name\">{player}</span>{player === players[0] && (<div className=\"host-badge\"><Crown className=\"w-4 h-4\" /><span>HOST</span></div>)}</div>))}</div>\r\n          </div>\r\n          <div className=\"text-center mb-4\" style={{background: 'rgba(255,255,255,0.1)', padding: '1rem', borderRadius: '1rem'}}>\r\n            <p className=\"text-white font-bold text-lg\">ðŸŽ® Modo: Por Turnos</p>\r\n            <p className=\"text-white/80 text-sm\">Cada jugador responde uno por uno</p>\r\n          </div>\r\n          {players[0] === playerName && (<button onClick={startGame} className=\"btn btn-success mb-3\"><Zap className=\"w-6 h-6\" />Â¡COMENZAR!</button>)}\r\n          <button onClick={resetGame} className=\"btn btn-outline\">SALIR</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameFinished) {\r\n    const sortedPlayers = Object.entries(scores).sort((a, b) => b[1] - a[1]);\r\n    return (\r\n      <div className=\"screen-container gradient-purple\">\r\n        <div className=\"confetti-container\">{[...Array(50)].map((_, i) => (<div key={i} className=\"confetti\" style={{left: `${Math.random() * 100}%`, top: `${Math.random() * 100}%`, animationDelay: `${Math.random() * 2}s`}}>{['ðŸ†', 'â­', 'ðŸŽ‰', 'âœ¨', 'ðŸŽŠ'][Math.floor(Math.random() * 5)]}</div>))}</div>\r\n        <div className=\"card glass-card\">\r\n          <div className=\"text-center mb-8\"><Trophy className=\"icon-mega text-yellow mb-4 bounce\" /><h2 className=\"title-mega gradient-text\">Â¡FINAL!</h2><p className=\"subtitle\">Resultados</p></div>\r\n          <div className=\"results-list\">{sortedPlayers.map(([player, score], i) => (<div key={player} className={`result-card rank-${i + 1}`}><div className=\"rank-number\">{i + 1}</div><div className=\"result-info\"><p className=\"result-name\">{player}</p>{i === 0 && <p className=\"champion-badge\">ðŸ‘‘ CAMPEÃ“N</p>}</div><div className=\"result-score\"><p className=\"score-value\">{score}</p><p className=\"score-label\">puntos</p></div></div>))}</div>\r\n          <button onClick={resetGame} className=\"btn btn-primary\">JUGAR DE NUEVO</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameStarted && currentQuestion) {\r\n    const categoryData = CATEGORIES[currentQuestion.category];\r\n    const progress = ((15 - timeLeft) / 15) * 100;\r\n    const myTurn = isMyTurn();\r\n    \r\n    return (\r\n      <div className={`screen-container gradient-${currentQuestion.category}`}>\r\n        <div className=\"category-icons\"><div className=\"category-icon left\">{categoryData.icon}</div><div className=\"category-icon right\">{categoryData.emoji}</div></div>\r\n        <div className={`card glass-card question-card ${animate ? 'card-animate' : ''}`}>\r\n          \r\n          {!myTurn && (\r\n            <div style={{background: 'rgba(255,255,255,0.2)', backdropFilter: 'blur(10px)', padding: '1rem', borderRadius: '1rem', marginBottom: '1rem', textAlign: 'center', border: '2px solid rgba(255,255,255,0.3)'}}>\r\n              <HourglassIcon className=\"w-8 h-8 mx-auto mb-2 text-white animate-pulse\" />\r\n              <p className=\"text-white font-bold text-xl\">Turno de: {players[currentTurn]}</p>\r\n              <p className=\"text-white/80\">Espera tu turno...</p>\r\n            </div>\r\n          )}\r\n          \r\n          {myTurn && !playerAnswered && (\r\n            <div style={{background: 'rgba(34,197,94,0.2)', backdropFilter: 'blur(10px)', padding: '1rem', borderRadius: '1rem', marginBottom: '1rem', textAlign: 'center', border: '2px solid rgba(34,197,94,0.5)'}}>\r\n              <p className=\"text-white font-bold text-xl\">ðŸŽ¯ Â¡ES TU TURNO!</p>\r\n            </div>\r\n          )}\r\n          \r\n          {waitingForOthers && (\r\n            <div style={{background: 'rgba(59,130,246,0.2)', backdropFilter: 'blur(10px)', padding: '1rem', borderRadius: '1rem', marginBottom: '1rem', textAlign: 'center', border: '2px solid rgba(59,130,246,0.5)'}}>\r\n              <p className=\"text-white font-bold\">Esperando siguiente turno...</p>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"question-header\">\r\n            <div className=\"category-badge\"><div className=\"category-icon-box\">{categoryData.icon}</div><div><p className=\"category-label\">CATEGORÃA</p><p className=\"category-name\">{categoryData.name}</p></div></div>\r\n            <div className=\"timer-section\">{streakBonus > 0 && (<div className=\"streak-badge\">ðŸ”¥ x{streakBonus}</div>)}{myTurn && !playerAnswered && (<div className=\"timer-box\"><div className=\"timer-display\"><Clock className=\"w-5 h-5\" /><span>{timeLeft}s</span></div><div className=\"progress-bar\"><div className=\"progress-fill\" style={{ width: `${100 - progress}%` }}></div></div></div>)}</div>\r\n          </div>\r\n          \r\n          <div className=\"progress-dots\">{[...Array(6)].map((_, i) => (<div key={i} className={`dot ${i < questionNumber ? 'done' : i === questionNumber ? 'active' : ''}`}></div>))}</div>\r\n          <p className=\"question-counter\">Pregunta {questionNumber + 1} de 6</p>\r\n          \r\n          <div className=\"question-box\"><h3 className=\"question-text\">{currentQuestion.q}</h3></div>\r\n          \r\n          <div className=\"answers-grid\">{currentQuestion.a.map((answer, i) => (<button key={i} onClick={() => myTurn && !showResult && !playerAnswered && setSelectedAnswer(i)} disabled={!myTurn || showResult || playerAnswered} className={`answer-btn ${!myTurn || playerAnswered ? 'disabled' : ''} ${showResult ? i === currentQuestion.c ? 'correct' : selectedAnswer === i ? 'incorrect' : 'disabled' : selectedAnswer === i ? 'selected' : ''}`}>{answer}</button>))}</div>\r\n          \r\n          {selectedAnswer !== null && !showResult && myTurn && !playerAnswered && (<button onClick={handleAnswerSubmit} className=\"btn btn-success\">Confirmar Respuesta</button>)}\r\n          \r\n          <div className=\"score-display\"><p className=\"score-label\">Tu puntuaciÃ³n</p><p className=\"score-value\">{scores[playerName] || 0}</p></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,cAAc;AAC7G,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,OAAO,EAAEC,MAAM,EAAEC,MAAM,QAAQ,mBAAmB;AAC1E,SAASC,UAAU,EAAEC,SAAS,QAAQ,aAAa;AACnD,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG1B,QAAQ,CAAC,OAAO,CAAC;EAC7C,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC6B,QAAQ,EAAEC,WAAW,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqC,eAAe,EAAEC,kBAAkB,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACuC,cAAc,EAAEC,iBAAiB,CAAC,GAAGxC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACyC,QAAQ,EAAEC,WAAW,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC2C,MAAM,EAAEC,SAAS,CAAC,GAAG5C,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAAC6C,UAAU,EAAEC,aAAa,CAAC,GAAG9C,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC+C,cAAc,EAAEC,iBAAiB,CAAC,GAAGhD,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACiD,YAAY,EAAEC,eAAe,CAAC,GAAGlD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACmD,OAAO,EAAEC,UAAU,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACqD,WAAW,EAAEC,cAAc,CAAC,GAAGtD,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACuD,YAAY,EAAEC,eAAe,CAAC,GAAGxD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACyD,WAAW,EAAEC,cAAc,CAAC,GAAG1D,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC2D,cAAc,EAAEC,iBAAiB,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC6D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG9D,QAAQ,CAAC,KAAK,CAAC;EAE/DC,SAAS,CAAC,MAAM;IACd,IAAIkC,WAAW,IAAIE,eAAe,IAAII,QAAQ,GAAG,CAAC,IAAI,CAACI,UAAU,IAAIkB,QAAQ,CAAC,CAAC,EAAE;MAC/E,MAAMC,KAAK,GAAGC,UAAU,CAAC,MAAMvB,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;MAC/D,OAAO,MAAMyB,YAAY,CAACF,KAAK,CAAC;IAClC,CAAC,MAAM,IAAIvB,QAAQ,KAAK,CAAC,IAAI,CAACI,UAAU,IAAIkB,QAAQ,CAAC,CAAC,EAAE;MACtDI,kBAAkB,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAAC1B,QAAQ,EAAEN,WAAW,EAAEE,eAAe,EAAEQ,UAAU,EAAEY,WAAW,CAAC,CAAC;EAErExD,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIsD,YAAY,EAAE;QAChBA,YAAY,CAAC,CAAC;MAChB;IACF,CAAC;EACH,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,MAAMQ,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAI,CAAC9B,OAAO,IAAIA,OAAO,CAACmC,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;IAClD,OAAOnC,OAAO,CAACwB,WAAW,CAAC,KAAK9B,UAAU;EAC5C,CAAC;EAED,MAAM0C,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAAC1C,UAAU,CAAC2C,IAAI,CAAC,CAAC,EAAE;IACxB,IAAI;MACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAClE,MAAMC,OAAO,GAAGhE,GAAG,CAACD,QAAQ,EAAE,SAAS2D,IAAI,EAAE,CAAC;MAC9C,MAAMzD,GAAG,CAAC+D,OAAO,EAAE;QACjBN,IAAI;QACJO,IAAI,EAAEnD,UAAU;QAChBM,OAAO,EAAE,CAACN,UAAU,CAAC;QACrBoD,OAAO,EAAE,KAAK;QACdC,aAAa,EAAE,CAAC;QAChBvB,WAAW,EAAE,CAAC;QACdd,MAAM,EAAE;UAAE,CAAChB,UAAU,GAAG;QAAE,CAAC;QAC3BU,eAAe,EAAE;MACnB,CAAC,CAAC;MACFL,cAAc,CAACuC,IAAI,CAAC;MACpBrC,UAAU,CAAC,CAACP,UAAU,CAAC,CAAC;MACxBiB,SAAS,CAAC;QAAE,CAACjB,UAAU,GAAG;MAAE,CAAC,CAAC;MAC9BD,SAAS,CAAC,OAAO,CAAC;MAClB,MAAMuD,WAAW,GAAGjE,OAAO,CAAC6D,OAAO,EAAGK,QAAQ,IAAK;QACjD,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;QAC3B,IAAID,IAAI,EAAE;UACRjD,UAAU,CAACiD,IAAI,CAAClD,OAAO,IAAI,EAAE,CAAC;UAC9BW,SAAS,CAACuC,IAAI,CAACxC,MAAM,IAAI,CAAC,CAAC,CAAC;UAC5Be,cAAc,CAACyB,IAAI,CAAC1B,WAAW,IAAI,CAAC,CAAC;UAErC,IAAI0B,IAAI,CAACJ,OAAO,IAAI,CAAC5C,WAAW,EAAE;YAChCC,cAAc,CAAC,IAAI,CAAC;YACpBY,iBAAiB,CAACmC,IAAI,CAACH,aAAa,IAAI,CAAC,CAAC;UAC5C;UAEA,IAAIG,IAAI,CAAC9C,eAAe,EAAE;YACxBC,kBAAkB,CAAC6C,IAAI,CAAC9C,eAAe,CAAC;YACxCS,aAAa,CAAC,KAAK,CAAC;YACpBN,iBAAiB,CAAC,IAAI,CAAC;YACvBE,WAAW,CAAC,EAAE,CAAC;YACfkB,iBAAiB,CAAC,KAAK,CAAC;YACxBE,mBAAmB,CAAC,KAAK,CAAC;UAC5B;UAEA,IAAIqB,IAAI,CAAClC,YAAY,EAAE;YACrBC,eAAe,CAAC,IAAI,CAAC;UACvB;QACF;MACF,CAAC,CAAC;MACFM,eAAe,CAAC,MAAMyB,WAAW,CAAC;IACpC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,KAAK,CAAC,uBAAuB,GAAGD,KAAK,CAACE,OAAO,CAAC;IAChD;EACF,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI,CAAC7D,UAAU,CAAC2C,IAAI,CAAC,CAAC,IAAI,CAACzC,QAAQ,CAACyC,IAAI,CAAC,CAAC,EAAE;IAC5C,IAAI;MACF,MAAMC,IAAI,GAAG1C,QAAQ,CAAC+C,WAAW,CAAC,CAAC;MACnC,MAAMC,OAAO,GAAGhE,GAAG,CAACD,QAAQ,EAAE,SAAS2D,IAAI,EAAE,CAAC;MAC9C,MAAMW,QAAQ,GAAG,MAAMnE,GAAG,CAAC8D,OAAO,CAAC;MACnC,IAAI,CAACK,QAAQ,CAACO,MAAM,CAAC,CAAC,EAAE;QACtBH,KAAK,CAAC,oBAAoB,CAAC;QAC3B;MACF;MACA,MAAMI,QAAQ,GAAGR,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC/B,IAAIM,QAAQ,CAACX,OAAO,EAAE;QACpBO,KAAK,CAAC,qBAAqB,CAAC;QAC5B;MACF;MACA,IAAI,CAACI,QAAQ,CAACzD,OAAO,CAAC0D,QAAQ,CAAChE,UAAU,CAAC,EAAE;QAC1C,MAAMiE,cAAc,GAAG,CAAC,GAAGF,QAAQ,CAACzD,OAAO,EAAEN,UAAU,CAAC;QACxD,MAAMkE,aAAa,GAAG;UAAE,GAAGH,QAAQ,CAAC/C,MAAM;UAAE,CAAChB,UAAU,GAAG;QAAE,CAAC;QAC7D,MAAMV,MAAM,CAAC4D,OAAO,EAAE;UACpB5C,OAAO,EAAE2D,cAAc;UACvBjD,MAAM,EAAEkD;QACV,CAAC,CAAC;MACJ;MACA7D,cAAc,CAACuC,IAAI,CAAC;MACpBrC,UAAU,CAACwD,QAAQ,CAACzD,OAAO,CAAC;MAC5BP,SAAS,CAAC,OAAO,CAAC;MAClB,MAAMuD,WAAW,GAAGjE,OAAO,CAAC6D,OAAO,EAAGK,QAAQ,IAAK;QACjD,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;QAC3B,IAAID,IAAI,EAAE;UACRjD,UAAU,CAACiD,IAAI,CAAClD,OAAO,IAAI,EAAE,CAAC;UAC9BW,SAAS,CAACuC,IAAI,CAACxC,MAAM,IAAI,CAAC,CAAC,CAAC;UAC5Be,cAAc,CAACyB,IAAI,CAAC1B,WAAW,IAAI,CAAC,CAAC;UAErC,IAAI0B,IAAI,CAACJ,OAAO,IAAI,CAAC5C,WAAW,EAAE;YAChCC,cAAc,CAAC,IAAI,CAAC;YACpBY,iBAAiB,CAACmC,IAAI,CAACH,aAAa,IAAI,CAAC,CAAC;UAC5C;UAEA,IAAIG,IAAI,CAAC9C,eAAe,EAAE;YACxBC,kBAAkB,CAAC6C,IAAI,CAAC9C,eAAe,CAAC;YACxCS,aAAa,CAAC,KAAK,CAAC;YACpBN,iBAAiB,CAAC,IAAI,CAAC;YACvBE,WAAW,CAAC,EAAE,CAAC;YACfkB,iBAAiB,CAAC,KAAK,CAAC;YACxBE,mBAAmB,CAAC,KAAK,CAAC;UAC5B;UAEA,IAAIqB,IAAI,CAAClC,YAAY,EAAE;YACrBC,eAAe,CAAC,IAAI,CAAC;UACvB;QACF;MACF,CAAC,CAAC;MACFM,eAAe,CAAC,MAAMyB,WAAW,CAAC;IACpC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,KAAK,CAAC,mBAAmB,GAAGD,KAAK,CAACE,OAAO,CAAC;IAC5C;EACF,CAAC;EAED,MAAMO,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMjB,OAAO,GAAGhE,GAAG,CAACD,QAAQ,EAAE,SAASmB,WAAW,EAAE,CAAC;MACrD,MAAMgE,UAAU,GAAGC,MAAM,CAACC,IAAI,CAAC7E,SAAS,CAAC;MACzC,MAAM8E,QAAQ,GAAGH,UAAU,CAAC,CAAC,GAAGA,UAAU,CAAC3B,MAAM,CAAC;MAClD,MAAM+B,SAAS,GAAG/E,SAAS,CAAC8E,QAAQ,CAAC;MACrC,MAAME,QAAQ,GAAGD,SAAS,CAAC3B,IAAI,CAAC6B,KAAK,CAAC7B,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG0B,SAAS,CAAC/B,MAAM,CAAC,CAAC;MACxE,MAAMkC,WAAW,GAAG;QAAE,GAAGF,QAAQ;QAAEF;MAAS,CAAC;MAE7C,MAAMjF,MAAM,CAAC4D,OAAO,EAAE;QACpBE,OAAO,EAAE,IAAI;QACbC,aAAa,EAAE,CAAC;QAChBvB,WAAW,EAAE,CAAC;QACdpB,eAAe,EAAEiE,WAAW;QAC5BrD,YAAY,EAAE;MAChB,CAAC,CAAC;MAEFb,cAAc,CAAC,IAAI,CAAC;MACpBY,iBAAiB,CAAC,CAAC,CAAC;MACpBU,cAAc,CAAC,CAAC,CAAC;MACjBN,UAAU,CAAC,IAAI,CAAC;MAChBa,UAAU,CAAC,MAAMb,UAAU,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC;IAC1C,CAAC,CAAC,OAAOiC,KAAK,EAAE;MACdC,KAAK,CAAC,wBAAwB,CAAC;IACjC;EACF,CAAC;EAED,MAAMnB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAItB,UAAU,IAAI,CAACkB,QAAQ,CAAC,CAAC,IAAIJ,cAAc,EAAE;IAEjDb,aAAa,CAAC,IAAI,CAAC;IACnBc,iBAAiB,CAAC,IAAI,CAAC;IACvBE,mBAAmB,CAAC,IAAI,CAAC;IAEzB,IAAI;MACF,MAAMe,OAAO,GAAGhE,GAAG,CAACD,QAAQ,EAAE,SAASmB,WAAW,EAAE,CAAC;MACrD,MAAMmD,QAAQ,GAAG,MAAMnE,GAAG,CAAC8D,OAAO,CAAC;MACnC,MAAMa,QAAQ,GAAGR,QAAQ,CAACE,GAAG,CAAC,CAAC;MAE/B,IAAImB,SAAS,GAAG;QAAE,GAAGb,QAAQ,CAAC/C;MAAO,CAAC;MAEtC,IAAIJ,cAAc,KAAKF,eAAe,CAACmE,CAAC,EAAE;QACxC,MAAMC,UAAU,GAAGjC,IAAI,CAACkC,GAAG,CAAC,GAAG,EAAE,IAAI,GAAG,CAAC,EAAE,GAAGjE,QAAQ,IAAI,EAAE,CAAC;QAC7D,MAAMkE,KAAK,GAAGtD,WAAW,GAAG,GAAG;QAC/B,MAAMuD,MAAM,GAAGH,UAAU,GAAGE,KAAK;QACjCrD,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;QAC/BkD,SAAS,CAAC5E,UAAU,CAAC,GAAG,CAAC4E,SAAS,CAAC5E,UAAU,CAAC,IAAI,CAAC,IAAIiF,MAAM;MAC/D,CAAC,MAAM;QACLtD,cAAc,CAAC,CAAC,CAAC;MACnB;MAEA,MAAMuD,QAAQ,GAAG,CAACpD,WAAW,GAAG,CAAC,IAAIxB,OAAO,CAACmC,MAAM;MAEnD,IAAIyC,QAAQ,KAAK,CAAC,EAAE;QAClB,MAAMC,KAAK,GAAG/D,cAAc,GAAG,CAAC;QAEhC,IAAI+D,KAAK,IAAI,CAAC,EAAE;UACd,MAAM7F,MAAM,CAAC4D,OAAO,EAAE;YACpBlC,MAAM,EAAE4D,SAAS;YACjBtD,YAAY,EAAE;UAChB,CAAC,CAAC;UACFC,eAAe,CAAC,IAAI,CAAC;QACvB,CAAC,MAAM;UACL,MAAM6C,UAAU,GAAGC,MAAM,CAACC,IAAI,CAAC7E,SAAS,CAAC;UACzC,MAAM8E,QAAQ,GAAGH,UAAU,CAACe,KAAK,GAAGf,UAAU,CAAC3B,MAAM,CAAC;UACtD,MAAM+B,SAAS,GAAG/E,SAAS,CAAC8E,QAAQ,CAAC;UACrC,MAAME,QAAQ,GAAGD,SAAS,CAAC3B,IAAI,CAAC6B,KAAK,CAAC7B,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG0B,SAAS,CAAC/B,MAAM,CAAC,CAAC;UACxE,MAAMkC,WAAW,GAAG;YAAE,GAAGF,QAAQ;YAAEF;UAAS,CAAC;UAE7C,MAAMjF,MAAM,CAAC4D,OAAO,EAAE;YACpBlC,MAAM,EAAE4D,SAAS;YACjB9C,WAAW,EAAEoD,QAAQ;YACrB7B,aAAa,EAAE8B,KAAK;YACpBzE,eAAe,EAAEiE;UACnB,CAAC,CAAC;UAEFtD,iBAAiB,CAAC8D,KAAK,CAAC;QAC1B;MACF,CAAC,MAAM;QACL,MAAM7F,MAAM,CAAC4D,OAAO,EAAE;UACpBlC,MAAM,EAAE4D,SAAS;UACjB9C,WAAW,EAAEoD;QACf,CAAC,CAAC;MACJ;MAEAjE,SAAS,CAAC2D,SAAS,CAAC;IACtB,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,MAAM2B,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,IAAIjF,WAAW,IAAIwB,YAAY,EAAE;QAC/BA,YAAY,CAAC,CAAC;QACd,MAAMrC,MAAM,CAACL,GAAG,CAACD,QAAQ,EAAE,SAASmB,WAAW,EAAE,CAAC,CAAC;MACrD;IACF,CAAC,CAAC,OAAOsD,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;IACA3D,SAAS,CAAC,OAAO,CAAC;IAClBE,aAAa,CAAC,EAAE,CAAC;IACjBE,WAAW,CAAC,EAAE,CAAC;IACfE,cAAc,CAAC,IAAI,CAAC;IACpBE,UAAU,CAAC,EAAE,CAAC;IACdE,cAAc,CAAC,KAAK,CAAC;IACrBE,kBAAkB,CAAC,IAAI,CAAC;IACxBE,iBAAiB,CAAC,IAAI,CAAC;IACvBE,WAAW,CAAC,EAAE,CAAC;IACfE,SAAS,CAAC,CAAC,CAAC,CAAC;IACbE,aAAa,CAAC,KAAK,CAAC;IACpBE,iBAAiB,CAAC,CAAC,CAAC;IACpBE,eAAe,CAAC,KAAK,CAAC;IACtBI,cAAc,CAAC,CAAC,CAAC;IACjBE,eAAe,CAAC,IAAI,CAAC;IACrBE,cAAc,CAAC,CAAC,CAAC;IACjBE,iBAAiB,CAAC,KAAK,CAAC;IACxBE,mBAAmB,CAAC,KAAK,CAAC;EAC5B,CAAC;EAED,IAAIrC,MAAM,KAAK,OAAO,EAAE;IACtB,oBACEH,OAAA;MAAK2F,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/C5F,OAAA;QAAK2F,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/B5F,OAAA;UAAK2F,SAAS,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnChG,OAAA;UAAK2F,SAAS,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnChG,OAAA;UAAK2F,SAAS,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC,eACNhG,OAAA;QAAK2F,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5F,OAAA;UAAK2F,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtC5F,OAAA;YAAK2F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7B5F,OAAA,CAACpB,MAAM;cAAC+G,SAAS,EAAC;YAAsC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC3DhG,OAAA,CAACZ,QAAQ;cAACuG,SAAS,EAAC;YAAkC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,eACNhG,OAAA;YAAI2F,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3DhG,OAAA;YAAG2F,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,eACNhG,OAAA;UAAK2F,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7B5F,OAAA;YAAOiG,IAAI,EAAC,MAAM;YAACC,WAAW,EAAC,WAAW;YAACC,KAAK,EAAE9F,UAAW;YAAC+F,QAAQ,EAAGC,CAAC,IAAK/F,aAAa,CAAC+F,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAACR,SAAS,EAAC;UAAa;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxIhG,OAAA;YAAQuG,OAAO,EAAExD,UAAW;YAAC4C,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAAC5F,OAAA,CAACjB,IAAI;cAAC4G,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,cAAU;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxGhG,OAAA;YAAK2F,SAAS,EAAC,SAAS;YAAAC,QAAA,eAAC5F,OAAA;cAAA4F,QAAA,EAAM;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACnDhG,OAAA;YAAOiG,IAAI,EAAC,MAAM;YAACC,WAAW,EAAC,mBAAgB;YAACC,KAAK,EAAE5F,QAAS;YAAC6F,QAAQ,EAAGC,CAAC,IAAK7F,WAAW,CAAC6F,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC7C,WAAW,CAAC,CAAC,CAAE;YAACqC,SAAS,EAAC,yBAAyB;YAACa,SAAS,EAAE;UAAE;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjLhG,OAAA;YAAQuG,OAAO,EAAErC,QAAS;YAACyB,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAAC5F,OAAA,CAAChB,KAAK;cAAC2G,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,UAAM;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAI7F,MAAM,KAAK,OAAO,EAAE;IACtB,oBACEH,OAAA;MAAK2F,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/C5F,OAAA;QAAK2F,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAE,CAAC,GAAGa,KAAK,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBAAM5G,OAAA;UAAa2F,SAAS,EAAC,MAAM;UAACkB,KAAK,EAAE;YAACC,KAAK,EAAE5D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE;YAAE4D,MAAM,EAAE7D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE;YAAE6D,IAAI,EAAE,GAAG9D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG;YAAE8D,GAAG,EAAE,GAAG/D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG;YAAE+D,cAAc,EAAE,GAAGhE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC;UAAG;QAAE,GAAzMyD,CAAC;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA0M,CAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAChShG,OAAA;QAAK2F,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5F,OAAA;UAAK2F,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/B5F,OAAA,CAACnB,KAAK;YAAC8G,SAAS,EAAC;UAA2C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/DhG,OAAA;YAAI2F,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/ChG,OAAA;YAAK2F,SAAS,EAAC,WAAW;YAAAC,QAAA,gBAAC5F,OAAA;cAAG2F,SAAS,EAAC,SAAS;cAAAC,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAAAhG,OAAA;cAAG2F,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEnF;YAAW;cAAAoF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5G,CAAC,eACNhG,OAAA;UAAK2F,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnB5F,OAAA;YAAK2F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAAC5F,OAAA,CAACb,MAAM;cAACwG,SAAS,EAAC;YAAmB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAAAhG,OAAA;cAAA4F,QAAA,GAAI,aAAW,EAACjF,OAAO,CAACmC,MAAM,EAAC,GAAC;YAAA;cAAA+C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACnHhG,OAAA;YAAK2F,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEjF,OAAO,CAAC+F,GAAG,CAAC,CAACS,MAAM,EAAEP,CAAC,kBAAM5G,OAAA;cAAa2F,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAAC5F,OAAA;gBAAK2F,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAEuB,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC9D,WAAW,CAAC;cAAC;gBAAAuC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAAhG,OAAA;gBAAM2F,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAEuB;cAAM;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,EAACmB,MAAM,KAAKxG,OAAO,CAAC,CAAC,CAAC,iBAAKX,OAAA;gBAAK2F,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBAAC5F,OAAA,CAACd,KAAK;kBAACyG,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAAAhG,OAAA;kBAAA4F,QAAA,EAAM;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAE;YAAA,GAAzPY,CAAC;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA8P,CAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3U,CAAC,eACNhG,OAAA;UAAK2F,SAAS,EAAC,kBAAkB;UAACkB,KAAK,EAAE;YAACQ,UAAU,EAAE,uBAAuB;YAAEC,OAAO,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAA3B,QAAA,gBACpH5F,OAAA;YAAG2F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnEhG,OAAA;YAAG2F,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAiC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC,EACLrF,OAAO,CAAC,CAAC,CAAC,KAAKN,UAAU,iBAAKL,OAAA;UAAQuG,OAAO,EAAE/B,SAAU;UAACmB,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBAAC5F,OAAA,CAACf,GAAG;YAAC0G,SAAS,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,iBAAU;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAE,eAC3IhG,OAAA;UAAQuG,OAAO,EAAEb,SAAU;UAACC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAIrE,YAAY,EAAE;IAChB,MAAM6F,aAAa,GAAG9C,MAAM,CAAC+C,OAAO,CAACpG,MAAM,CAAC,CAACqG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,oBACE3H,OAAA;MAAK2F,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/C5F,OAAA;QAAK2F,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAE,CAAC,GAAGa,KAAK,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBAAM5G,OAAA;UAAa2F,SAAS,EAAC,UAAU;UAACkB,KAAK,EAAE;YAACG,IAAI,EAAE,GAAG9D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG;YAAE8D,GAAG,EAAE,GAAG/D,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG;YAAE+D,cAAc,EAAE,GAAGhE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC;UAAG,CAAE;UAAAyC,QAAA,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC1C,IAAI,CAAC6B,KAAK,CAAC7B,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,GAAvMyD,CAAC;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA4M,CAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACpShG,OAAA;QAAK2F,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5F,OAAA;UAAK2F,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAAC5F,OAAA,CAACpB,MAAM;YAAC+G,SAAS,EAAC;UAAmC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAAAhG,OAAA;YAAI2F,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAAAhG,OAAA;YAAG2F,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3LhG,OAAA;UAAK2F,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAE4B,aAAa,CAACd,GAAG,CAAC,CAAC,CAACS,MAAM,EAAEU,KAAK,CAAC,EAAEjB,CAAC,kBAAM5G,OAAA;YAAkB2F,SAAS,EAAE,oBAAoBiB,CAAC,GAAG,CAAC,EAAG;YAAAhB,QAAA,gBAAC5F,OAAA;cAAK2F,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAEgB,CAAC,GAAG;YAAC;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAAAhG,OAAA;cAAK2F,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAAC5F,OAAA;gBAAG2F,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAEuB;cAAM;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAACY,CAAC,KAAK,CAAC,iBAAI5G,OAAA;gBAAG2F,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAAAhG,OAAA;cAAK2F,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAAC5F,OAAA;gBAAG2F,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAEiC;cAAK;gBAAAhC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAAAhG,OAAA;gBAAG2F,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA,GAA5UmB,MAAM;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2U,CAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/ahG,OAAA;UAAQuG,OAAO,EAAEb,SAAU;UAACC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAInF,WAAW,IAAIE,eAAe,EAAE;IAClC,MAAM+G,YAAY,GAAGjI,UAAU,CAACkB,eAAe,CAAC6D,QAAQ,CAAC;IACzD,MAAMmD,QAAQ,GAAI,CAAC,EAAE,GAAG5G,QAAQ,IAAI,EAAE,GAAI,GAAG;IAC7C,MAAM6G,MAAM,GAAGvF,QAAQ,CAAC,CAAC;IAEzB,oBACEzC,OAAA;MAAK2F,SAAS,EAAE,6BAA6B5E,eAAe,CAAC6D,QAAQ,EAAG;MAAAgB,QAAA,gBACtE5F,OAAA;QAAK2F,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAAC5F,OAAA;UAAK2F,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAEkC,YAAY,CAACG;QAAI;UAAApC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAAAhG,OAAA;UAAK2F,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAEkC,YAAY,CAACI;QAAK;UAAArC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAClKhG,OAAA;QAAK2F,SAAS,EAAE,iCAAiC9D,OAAO,GAAG,cAAc,GAAG,EAAE,EAAG;QAAA+D,QAAA,GAE9E,CAACoC,MAAM,iBACNhI,OAAA;UAAK6G,KAAK,EAAE;YAACQ,UAAU,EAAE,uBAAuB;YAAEc,cAAc,EAAE,YAAY;YAAEb,OAAO,EAAE,MAAM;YAAEC,YAAY,EAAE,MAAM;YAAEa,YAAY,EAAE,MAAM;YAAEC,SAAS,EAAE,QAAQ;YAAEC,MAAM,EAAE;UAAiC,CAAE;UAAA1C,QAAA,gBAC3M5F,OAAA,CAACX,aAAa;YAACsG,SAAS,EAAC;UAA+C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3EhG,OAAA;YAAG2F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,GAAC,YAAU,EAACjF,OAAO,CAACwB,WAAW,CAAC;UAAA;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChFhG,OAAA;YAAG2F,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CACN,EAEAgC,MAAM,IAAI,CAAC3F,cAAc,iBACxBrC,OAAA;UAAK6G,KAAK,EAAE;YAACQ,UAAU,EAAE,qBAAqB;YAAEc,cAAc,EAAE,YAAY;YAAEb,OAAO,EAAE,MAAM;YAAEC,YAAY,EAAE,MAAM;YAAEa,YAAY,EAAE,MAAM;YAAEC,SAAS,EAAE,QAAQ;YAAEC,MAAM,EAAE;UAA+B,CAAE;UAAA1C,QAAA,eACvM5F,OAAA;YAAG2F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CACN,EAEAzD,gBAAgB,iBACfvC,OAAA;UAAK6G,KAAK,EAAE;YAACQ,UAAU,EAAE,sBAAsB;YAAEc,cAAc,EAAE,YAAY;YAAEb,OAAO,EAAE,MAAM;YAAEC,YAAY,EAAE,MAAM;YAAEa,YAAY,EAAE,MAAM;YAAEC,SAAS,EAAE,QAAQ;YAAEC,MAAM,EAAE;UAAgC,CAAE;UAAA1C,QAAA,eACzM5F,OAAA;YAAG2F,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CACN,eAEDhG,OAAA;UAAK2F,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B5F,OAAA;YAAK2F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAAC5F,OAAA;cAAK2F,SAAS,EAAC,mBAAmB;cAAAC,QAAA,EAAEkC,YAAY,CAACG;YAAI;cAAApC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAAAhG,OAAA;cAAA4F,QAAA,gBAAK5F,OAAA;gBAAG2F,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAAAhG,OAAA;gBAAG2F,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAEkC,YAAY,CAACS;cAAI;gBAAA1C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5MhG,OAAA;YAAK2F,SAAS,EAAC,eAAe;YAAAC,QAAA,GAAE7D,WAAW,GAAG,CAAC,iBAAK/B,OAAA;cAAK2F,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAC,gBAAI,EAAC7D,WAAW;YAAA;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAE,EAAEgC,MAAM,IAAI,CAAC3F,cAAc,iBAAKrC,OAAA;cAAK2F,SAAS,EAAC,WAAW;cAAAC,QAAA,gBAAC5F,OAAA;gBAAK2F,SAAS,EAAC,eAAe;gBAAAC,QAAA,gBAAC5F,OAAA,CAAClB,KAAK;kBAAC6G,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAAAhG,OAAA;kBAAA4F,QAAA,GAAOzE,QAAQ,EAAC,GAAC;gBAAA;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAAAhG,OAAA;gBAAK2F,SAAS,EAAC,cAAc;gBAAAC,QAAA,eAAC5F,OAAA;kBAAK2F,SAAS,EAAC,eAAe;kBAACkB,KAAK,EAAE;oBAAEC,KAAK,EAAE,GAAG,GAAG,GAAGiB,QAAQ;kBAAI;gBAAE;kBAAAlC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3X,CAAC,eAENhG,OAAA;UAAK2F,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAE,CAAC,GAAGa,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBAAM5G,OAAA;YAAa2F,SAAS,EAAE,OAAOiB,CAAC,GAAGnF,cAAc,GAAG,MAAM,GAAGmF,CAAC,KAAKnF,cAAc,GAAG,QAAQ,GAAG,EAAE;UAAG,GAA1FmF,CAAC;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA+F,CAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjLhG,OAAA;UAAG2F,SAAS,EAAC,kBAAkB;UAAAC,QAAA,GAAC,WAAS,EAACnE,cAAc,GAAG,CAAC,EAAC,OAAK;QAAA;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEtEhG,OAAA;UAAK2F,SAAS,EAAC,cAAc;UAAAC,QAAA,eAAC5F,OAAA;YAAI2F,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE7E,eAAe,CAACyH;UAAC;YAAA3C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAE1FhG,OAAA;UAAK2F,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAE7E,eAAe,CAAC4G,CAAC,CAACjB,GAAG,CAAC,CAAC+B,MAAM,EAAE7B,CAAC,kBAAM5G,OAAA;YAAgBuG,OAAO,EAAEA,CAAA,KAAMyB,MAAM,IAAI,CAACzG,UAAU,IAAI,CAACc,cAAc,IAAInB,iBAAiB,CAAC0F,CAAC,CAAE;YAAC8B,QAAQ,EAAE,CAACV,MAAM,IAAIzG,UAAU,IAAIc,cAAe;YAACsD,SAAS,EAAE,cAAc,CAACqC,MAAM,IAAI3F,cAAc,GAAG,UAAU,GAAG,EAAE,IAAId,UAAU,GAAGqF,CAAC,KAAK7F,eAAe,CAACmE,CAAC,GAAG,SAAS,GAAGjE,cAAc,KAAK2F,CAAC,GAAG,WAAW,GAAG,UAAU,GAAG3F,cAAc,KAAK2F,CAAC,GAAG,UAAU,GAAG,EAAE,EAAG;YAAAhB,QAAA,EAAE6C;UAAM,GAArW7B,CAAC;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA6W,CAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EAEzc/E,cAAc,KAAK,IAAI,IAAI,CAACM,UAAU,IAAIyG,MAAM,IAAI,CAAC3F,cAAc,iBAAKrC,OAAA;UAAQuG,OAAO,EAAE1D,kBAAmB;UAAC8C,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAE,eAEvKhG,OAAA;UAAK2F,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAAC5F,OAAA;YAAG2F,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAAAhG,OAAA;YAAG2F,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAEvE,MAAM,CAAChB,UAAU,CAAC,IAAI;UAAC;YAAAwF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,OAAO,IAAI;AACb;AAAC9F,EAAA,CAvYQD,GAAG;AAAA0I,EAAA,GAAH1I,GAAG;AAyYZ,eAAeA,GAAG;AAAC,IAAA0I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}